<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cleanup Gruppe Darmstadt</title>
    <link rel="icon" type="image/png" href="images/cleanup_darmstadt.png">
    
    <!-- Tailwind CSS (lokal) -->
    <script src="tailwind.js"></script>
    
    <!-- Leaflet CSS (lokal) -->
    <link rel="stylesheet" href="leaflet.css" />
</head>
<body class="bg-gray-50">
    <div class="container mx-auto px-4 py-8">
        <!-- About Section -->
        <section class="bg-white rounded-lg shadow-lg p-8 mb-8">
            <h2 class="text-3xl font-bold text-primary border-b-4 border-primary pb-2 mb-6 text-center">Wer wir sind</h2>
            <div class="max-w-3xl mx-auto text-gray-700 space-y-5">
                <p class="text-xl text-center font-medium text-primary">
                    Gemeinsam anpacken statt nur reden â€“ das ist unser Motto!
                </p>
                <p class="text-lg">
                    Wir sind eine Gruppe von <strong>Freiwilligen aus Darmstadt</strong>, die keine Lust mehr haben,
                    tatenlos zuzusehen, wie unsere schÃ¶ne Natur vermÃ¼llt wird. Stattdessen krempeln wir die Ã„rmel hoch
                    und rÃ¤umen auf â€“ ganz unkompliziert und ohne groÃŸes Tamtam.
                </p>
                <p>
                    <strong>Jeden zweiten bis vierten Sonntag</strong> starten wir eine neue Cleanup-Aktion.
                    Wo genau? Das besprechen wir gemeinsam â€“ flexibel und nach Bedarf. Dabei geht es nicht nur
                    darum, MÃ¼llsÃ¤cke zu fÃ¼llen. Es geht darum, <strong>zusammen etwas Sinnvolles zu tun</strong>,
                    nette Menschen kennenzulernen und die Gewissheit zu haben: Heute haben wir wirklich etwas bewegt!
                </p>
                <p>
                    Nach jedem Cleanup melden wir den gesammelten MÃ¼ll der Stadt Darmstadt. Der
                    <strong>EAD</strong> kÃ¼mmert sich dann um die fachgerechte Entsorgung â€“ so bleibt unser
                    Einsatz nachhaltig und professionell.
                </p>
                <div class="bg-green-50 border-l-4 border-green-500 p-4 mt-6">
                    <p class="text-green-800 font-medium">
                        ğŸ’š Du brauchst keine Vorkenntnisse, keine spezielle AusrÃ¼stung und keine langfristige Verpflichtung.
                        Komm einfach vorbei, wenn es bei dir passt â€“ jede helfende Hand zÃ¤hlt!
                    </p>
                </div>
            </div>
        </section>

        <!-- Next Event Section -->
        <section id="next-event" class="bg-gray-800 text-white rounded-lg shadow-lg p-8 mb-8">
            <h2 class="text-3xl font-bold mb-6 text-center">ğŸ—“ï¸ NÃ¤chster Termin</h2>
            <div class="max-w-3xl mx-auto">
                <div class="text-center mb-6">
                    <p id="event-date" class="text-2xl font-bold mb-2"></p>
                    <p id="event-time" class="text-xl"></p>
                </div>
                
                <div class="bg-white/20 rounded-lg p-6 mb-4">
                    <p class="text-lg mb-2" id="event-location"></p>
                </div>
                
                <div class="bg-white/10 rounded-lg p-4 italic">
                    <p class="text-center">
                        <strong>ğŸŒ§ï¸ Wichtiger Hinweis:</strong> Bei (starkem) Regen entfÃ¤llt das Cleanup.
                        Dies wird am Vormittag kurzfristig entschieden.
                    </p>
                </div>
            </div>
        </section>

        <!-- Map Section -->
        <section id="map-section" class="bg-white rounded-lg shadow-lg p-8 mb-8">
            <!-- Map Container -->
            <div id="map" class="h-[800px] rounded-lg shadow-md mb-4"></div>
            
            <!-- Map Legend -->
            <div class="bg-gray-50 rounded-lg p-4">
                <h4 class="font-bold mb-3">Legende:</h4>
                <div class="flex flex-col gap-2">
                    <div class="flex items-center gap-3">
                        <div class="w-6 h-6 bg-green-500 rounded-full"></div>
                        <span>DurchgefÃ¼hrte Cleanup-Aktionen</span>
                    </div>
                    <div class="flex items-center gap-3">
                        <div class="w-6 h-6 bg-yellow-500 rounded-full"></div>
                        <span>NÃ¤chster geplanter Einsatzort</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- Info Section -->
        <section class="bg-white rounded-lg shadow-lg p-8 mb-8">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 max-w-4xl mx-auto">
                <div class="bg-gray-50 p-6 rounded-lg border-l-4 border-primary">
                    <h4 class="font-bold text-primary mb-3 text-xl">ğŸ’ Was du mitbringen solltest</h4>
                    <ul class="list-disc list-inside space-y-2 text-gray-700">
                        <li>Feste Schuhe</li>
                        <li>Wetterfeste Kleidung</li>
                        <li>Gartenhandschuhe (falls vorhanden)</li>
                        <li>MÃ¼llzange (falls vorhanden)</li>
                        <li>ggf. Warnweste</li>
                    </ul>
                </div>
                <div class="bg-gray-50 p-6 rounded-lg border-l-4 border-primary">
                    <h4 class="font-bold text-primary mb-3 text-xl">âœ… Was wir bereitstellen</h4>
                    <ul class="list-disc list-inside space-y-2 text-gray-700">
                        <li>MÃ¼llsÃ¤cke</li>
                        <li>Handschuhe (begrenzte Anzahl)</li>
                        <li>Cleanup Darmstadt Info Sticker</li>
                        <li>Organisation und Koordination</li>
                    </ul>
                </div>
                <div class="bg-gray-50 p-6 rounded-lg border-l-4 border-primary">
                    <h4 class="font-bold text-primary mb-3 text-xl">ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ FÃ¼r Familien geeignet</h4>
                    <p class="text-gray-700">
                        Unsere Cleanup-Aktionen sind familienfreundlich. Kinder sind willkommen und lernen
                        spielerisch den verantwortungsvollen Umgang mit der Umwelt.
                    </p>
                </div>
                <div class="bg-gray-50 p-6 rounded-lg border-l-4 border-primary">
                    <h4 class="font-bold text-primary mb-3 text-xl">â±ï¸ Zeitlicher Ablauf</h4>
                    <p class="text-gray-700">
                        Unsere Aktionen dauern in der Regel 1,5 Stunden. Du kannst jederzeit kommen und gehen,
                        wie es deine Zeit erlaubt.
                    </p>
                </div>
            </div>
        </section>

        <!-- Contact Section -->
        <section class="bg-white rounded-lg shadow-lg p-8 mb-8">
            <h2 class="text-3xl font-bold text-primary border-b-4 border-primary pb-2 mb-6 text-center">Kontakt</h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 max-w-4xl mx-auto">
                <div class="bg-gray-50 p-6 rounded-lg text-center hover:shadow-lg transition">
                    <h3 class="text-xl font-bold text-primary mb-4">ğŸ“˜ Facebook-Gruppe</h3>
                    <p class="mb-4 text-gray-700">Termine und Austausch</p>
                    <a href="https://www.facebook.com/groups/162624218009992" target="_blank"
                       class="text-primary font-semibold hover:underline">
                        Zur Facebook-Gruppe
                    </a>
                </div>
                <div class="bg-gray-50 p-6 rounded-lg text-center hover:shadow-lg transition">
                    <h3 class="text-xl font-bold text-primary mb-4">ğŸ“± WhatsApp-Gruppe</h3>
                    <p class="mb-4 text-gray-700">Schnelle Absprachen</p>
                    Beitritt auf Anfrage
                </div>
                <div class="bg-gray-50 p-6 rounded-lg text-center hover:shadow-lg transition">
                    <h3 class="text-xl font-bold text-primary mb-4">ğŸ“§ E-Mail</h3>
                    <p class="mb-4 text-gray-700">Bei Fragen</p>
                    birgit [at] cleanup-darmstadt.de
                </div>
            </div>
        </section>
    </div>

    <!-- Leaflet JS (lokal) -->
    <script src="leaflet.js"></script>
    
    <!-- Map Script -->
    <script>
        // Initialize map centered on Darmstadt
        const map = L.map('map').setView([49.8728, 8.6512], 12);

        // Add OpenStreetMap tiles
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',
            maxZoom: 19
        }).addTo(map);

        // Define cleanup locations with coordinates
        const cleanupLocations = [
            {
                name: '',
                lat: 49.8953277777778,
                lng: 8.63760555555556,
                type: 'completed',
                description: 'am 24.03.2024',
                image: 'aktionen/2024-03-24.jpeg'
            },
            {
                name: '',
                lat: 49.8882555555556,
                lng: 8.66094722222222,
                type: 'completed',
                description: 'am 14.07.2024',
                image: 'aktionen/2024-07-14.jpeg'
            },
            {
                name: '',
                lat: 49.8749277777778,
                lng: 8.67290277777778,
                type: 'completed',
                description: 'am 13.10.2024',
                image: 'aktionen/2024-10-13.jpeg'
            },
            {
                name: '',
                lat: 49.8921555555556,
                lng: 8.70035277777778,
                type: 'completed',
                description: 'am 19.01.2025',
                image: 'aktionen/2025-01-19.jpeg'
            },
            {
                name: '',
                lat: 49.8440777777778,
                lng: 8.64888333333333,
                type: 'completed',
                description: 'am 16.03.2025',
                image: 'aktionen/2025-03-16.jpeg'
            },
            {
                name: 'BÃ¼rgerpark Parkplatz',
                lat: 49.888259,
                lng: 8.660894,
                type: 'completed',
                description: 'am 15.06.2025',
                image: 'aktionen/2025-06-15.jpeg'
            },
            {
                name: 'Arheilgen RodgaustraÃŸe',
                lat: 49.91296943400184,
                lng: 8.67082876382558,
                type: 'completed',
                description: 'am 31.08.2025',
                image: 'aktionen/2025-08-31.jpeg'
            },
            {
                name: 'Arheilgen UnterfÃ¼hrung',
                lat: 49.910175998239566,
                lng: 8.646766197838238,
                type: 'completed',
                description: 'am 21.09.2025',
                image: 'aktionen/2025-09-21.jpeg'
            },
            {
                name: 'Drei Brunnen Quelle',
                lat: 49.87144843775874,
                lng: 8.68486769176618,
                type: 'completed',
                description: 'am 12.10.2025',
                image: 'aktionen/2025-10-12.jpeg'
            },
            {
                name: 'Arheilgen RodgaustraÃŸe',
                lat: 49.912800302111265,
                lng: 8.669544723535923,
                type: 'completed',
                description: 'am 26.10.2025',
                image: 'aktionen/2025-10-26.jpeg'
            },
            {
                name: 'Forsthaus BÃ¶llenfalltor',
                lat: 49.8527722222222,
                lng: 8.67221388888889,
                type: 'completed',
                description: 'am 16.11.2025',
                image: 'aktionen/2025-11-16.jpeg'
            },
            {
                name: 'Maulbeerallee (Arheilgen)',
                lat: 49.898123761457086,
                lng: 8.660985340889866,
                type: 'completed',
                description: 'am 30.11.2025',
                image: 'aktionen/2025-11-30.jpeg'
            },
            {
                name: 'PfannmÃ¼llerweg',
                lat: 49.89441866817949,
                lng: 8.681245355254351,
                type: 'completed',
                description: 'am 18.05.2025'
            },
            {
                name: 'Oberwaldhaus Parkplatz Ost',
                lat: 49.892503605373776, 
                lng: 8.702181537666688,
                type: 'completed',
                description: 'am 27.04.2025'
            },
            {
                name: 'BrÃ¼cke Ã¼ber B26',
                lat: 49.8664482068514,
                lng: 8.695790125258684,
                type: 'completed',
                description: 'am 13.04.2025'
            },
            {
                name: 'Kranichstein',
                lat: 49.898097131217035,
                lng: 8.680875193987644,
                type: 'completed',
                description: 'am 30.03.2025'
            },
            {
                name: 'Marienplatz',
                lat: 49.8675656920946,
                lng: 8.645781399419167,
                type: 'completed',
                description: 'am 02.03.2025',
                image: 'aktionen/2025-03-02.jpeg'
            },
            {
                name: 'Dornheimer Weg',
                lat: 49.8765319618606,
                lng: 8.605044506838885,
                type: 'completed',
                description: 'am 09.02.2025'
            }
        ];

        // Custom icons for different marker types
        const greenIcon = L.icon({
            iconUrl: 'images/marker-icon-green.png',
            shadowUrl: 'images/marker-shadow.png',
            iconSize: [25, 41],
            iconAnchor: [12, 41],
            popupAnchor: [1, -34],
            shadowSize: [41, 41]
        });

        const yellowIcon = L.icon({
            iconUrl: 'images/marker-icon-yellow.png',
            shadowUrl: 'images/marker-shadow.png',
            iconSize: [25, 41],
            iconAnchor: [12, 41],
            popupAnchor: [1, -34],
            shadowSize: [41, 41]
        });

        // Add markers to map
        cleanupLocations.forEach(location => {
            // Skip locations without coordinates
            if (!location.lat || !location.lng) return;
            
            const icon = location.type === 'planned' ? yellowIcon : greenIcon;
            const marker = L.marker([location.lat, location.lng], { icon: icon }).addTo(map);
            
            const popupContent = `
                <div style="font-family: sans-serif; max-width: 280px;">
                    ${location.name ? `<h3 style="font-weight: bold; color: #28a745; margin-bottom: 5px;">${location.name}</h3>` : ''}
                    <p style="margin: 0; font-size: 14px;">${location.description}</p>
                    ${location.type === 'planned' ? '<p style="margin-top: 5px; font-weight: bold; color: #ffc107;">ğŸ“ NÃ¤chster Termin!</p>' : ''}
                    ${location.image ? `<img src="${location.image}" alt="Cleanup Foto" style="width: 280px; margin-top: 10px; border-radius: 4px;">` : ''}
                </div>
            `;
            
            marker.bindPopup(popupContent, {
                minWidth: 280,
                maxWidth: 300
            });
        });

        // Update next event section from planned location
        const nextEvent = cleanupLocations.find(loc => loc.type === 'planned');
        if (nextEvent) {
            // Parse date from description (format: "NÃ¤chster Cleanup am 30.11.2025 um 10:30")
            const dateMatch = nextEvent.description.match(/(\d{2})\.(\d{2})\.(\d{4})\s+um\s+(\d{2}:\d{2})/);
            if (dateMatch) {
                const [_, day, month, year, time] = dateMatch;
                const date = new Date(year, month - 1, day);
                const weekdays = ['Sonntag', 'Montag', 'Dienstag', 'Mittwoch', 'Donnerstag', 'Freitag', 'Samstag'];
                const months = ['Januar', 'Februar', 'MÃ¤rz', 'April', 'Mai', 'Juni', 'Juli', 'August', 'September', 'Oktober', 'November', 'Dezember'];
                
                const formattedDate = `${weekdays[date.getDay()]}, ${day}. ${months[date.getMonth()]} ${year}`;
                
                document.getElementById('event-date').textContent = formattedDate;
                document.getElementById('event-time').textContent = `${time} Uhr bis ca. 12:00 Uhr`;
                document.getElementById('event-location').innerHTML = `<strong>ğŸ“ Einsatzgebiet:</strong> ${nextEvent.name}`;
            }
        }
    </script>
    <!-- Footer with Datenschutz & Impressum -->
    <footer class="bg-gray-800 text-gray-300 py-8">
        <div class="container mx-auto px-4">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 max-w-4xl mx-auto">
                <!-- Impressum -->
                <div>
                    <h3 class="text-lg font-bold text-white mb-3">Impressum</h3>
                    <p class="text-sm">
                        Verantwortlich: Birgit Haase<br>
                        WittichstraÃŸe 2<br>
                        64295 Darmstadt<br>
                        E-Mail: birgit [at] cleanup-darmstadt.de
                    </p>
                </div>
                
                <!-- Datenschutz -->
                <div>
                    <h3 class="text-lg font-bold text-white mb-3">Datenschutz</h3>
                    <p class="text-sm">
                        Diese Website verwendet keine Cookies und erfasst keine personenbezogenen Daten.
                        Die Karte wird Ã¼ber OpenStreetMap bereitgestellt.
                        Kontaktanfragen per E-Mail werden nur zur Beantwortung Ihrer Anfrage verwendet.
                    </p>
                </div>
            </div>
            
            <div class="text-center mt-6 pt-6 border-t border-gray-700 text-sm">
                <p>&copy; 2025 Cleanup Gruppe Darmstadt</p>
            </div>
        </div>
    </footer>

</body>
</html>